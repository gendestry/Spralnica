[debug] [2022-11-18T15:01:45.367Z] ----------------------------------------------------------------------
[debug] [2022-11-18T15:01:45.373Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start
[debug] [2022-11-18T15:01:45.374Z] CLI Version:   11.16.1
[debug] [2022-11-18T15:01:45.375Z] Platform:      linux
[debug] [2022-11-18T15:01:45.375Z] Node Version:  v16.13.0
[debug] [2022-11-18T15:01:45.376Z] Time:          Fri Nov 18 2022 15:01:45 GMT+0000 (Coordinated Universal Time)
[debug] [2022-11-18T15:01:45.376Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-11-18T15:01:45.574Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] Failed to authenticate, have you run firebase login?
[warn] ⚠  emulators: You are not currently authenticated so some features may not work correctly. Please run firebase login to authenticate the CLI. 
[debug] [2022-11-18T15:01:45.893Z] openjdk version "11.0.5" 2019-10-15
OpenJDK Runtime Environment (build 11.0.5+10-alpine-r0)
OpenJDK 64-Bit Server VM (build 11.0.5+10-alpine-r0, mixed mode)

[debug] [2022-11-18T15:01:45.913Z] Parsed Java major version: 11
[info] i  emulators: Starting emulators: auth, functions, firestore, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, firestore, hosting"}}
[warn] ⚠  hosting: The hosting emulator is configured but there is no hosting configuration. Have you run firebase init hosting? {"metadata":{"emulator":{"name":"hosting"},"message":"The hosting emulator is configured but there is no hosting configuration. Have you run firebase init hosting?"}}
[warn] ⚠  hub: Error when trying to check port 4400 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4400 {"metadata":{"emulator":{"name":"hub"},"message":"Error when trying to check port 4400 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4400"}}
[warn] ⚠  hub: Port 4400 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"hub"},"message":"Port 4400 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  hub: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"hub"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[warn] ⚠  logging: Error when trying to check port 4500 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4500 {"metadata":{"emulator":{"name":"logging"},"message":"Error when trying to check port 4500 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:4500"}}
[warn] ⚠  logging: Port 4500 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"logging"},"message":"Port 4500 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  logging: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"logging"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[debug] [2022-11-18T15:01:45.937Z] assigned listening specs for emulators {"user":{"ui":[{"address":"0.0.0.0","family":"IPv4","port":4001}],"auth":[{"address":"0.0.0.0","family":"IPv4","port":4005}],"firestore":[{"address":"0.0.0.0","family":"IPv4","port":4003}],"firestore.websocket":[{"address":"0.0.0.0","family":"IPv4","port":9150}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2022-11-18T15:01:45.954Z] [hub] writing locator at /tmp/hub-spralnica.json
[warn] ⚠  eventarc: Error when trying to check port 9299 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:9299 {"metadata":{"emulator":{"name":"eventarc"},"message":"Error when trying to check port 9299 on ::1: Error: listen EADDRNOTAVAIL: address not available ::1:9299"}}
[warn] ⚠  eventarc: Port 9299 is available on 127.0.0.1 but not ::1. This may cause issues with some clients. {"metadata":{"emulator":{"name":"eventarc"},"message":"Port 9299 is available on 127.0.0.1 but not ::1. This may cause issues with some clients."}}
[warn] ⚠  eventarc: If you encounter connectivity issues, consider switching to a different port or explicitly specifying "host": "<ip address>" instead of hostname in firebase.json {"metadata":{"emulator":{"name":"eventarc"},"message":"If you encounter connectivity issues, consider switching to a different port or explicitly specifying \"host\": \"<ip address>\" instead of hostname in firebase.json"}}
[debug] [2022-11-18T15:01:45.992Z] late-assigned ports for functions and eventarc emulators {"user":{"ui":[{"address":"0.0.0.0","family":"IPv4","port":4001}],"auth":[{"address":"0.0.0.0","family":"IPv4","port":4005}],"firestore":[{"address":"0.0.0.0","family":"IPv4","port":4003}],"firestore.websocket":[{"address":"0.0.0.0","family":"IPv4","port":9150}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"0.0.0.0","family":"IPv4","port":4002}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: database, hosting, pubsub, storage"}}
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[warn] ⚠  functions: You are not signed in to the Firebase CLI. If you have authorized this machine using gcloud application-default credentials those may be discovered and used to access production services. {"metadata":{"emulator":{"name":"functions"},"message":"You are not signed in to the Firebase CLI. If you have authorized this machine using gcloud application-default credentials those may be discovered and used to access production services."}}
[debug] [2022-11-18T15:01:46.021Z] > refreshing access token with scopes: []
[debug] [2022-11-18T15:01:46.068Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2022-11-18T15:01:46.069Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-11-18T15:01:46.229Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2022-11-18T15:01:46.229Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-11-18T15:01:46.230Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/spralnica/adminSdkConfig [none]
[debug] [2022-11-18T15:01:46.309Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/spralnica/adminSdkConfig 401
[debug] [2022-11-18T15:01:46.310Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/spralnica/adminSdkConfig {"error":{"code":401,"message":"Request is missing required authentication credential. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":"UNAUTHENTICATED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"CREDENTIALS_MISSING","domain":"googleapis.com","metadata":{"method":"google.firebase.service.v1beta1.FirebaseProjectService.GetAdminSdkConfig","service":"firebase.googleapis.com"}}]}}
[debug] [2022-11-18T15:01:46.311Z] Failed to get Admin SDK config for spralnica, falling back to cacheFailed to get Admin SDK for Firebase project spralnica. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project spralnica. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":401,"message":"Request is missing required authentication credential. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":"UNAUTHENTICATED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"CREDENTIALS_MISSING","domain":"googleapis.com","metadata":{"method":"google.firebase.service.v1beta1.FirebaseProjectService.GetAdminSdkConfig","service":"firebase.googleapis.com"}}]}},"response":{"statusCode":401}},"exit":1,"message":"HTTP Error: 401, Request is missing required authentication credential. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":401},"status":500}
[warn] ⚠  functions: Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect. {"metadata":{"emulator":{"name":"functions"},"message":"Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect."}}
[debug] [2022-11-18T15:01:46.336Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-11-18T15:01:46.336Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2022-11-18T15:01:46.337Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","/root/.cache/firebase/emulators/cloud-firestore-emulator-v1.15.1.jar","--host","0.0.0.0","--port",4003,"--websocket_port",9150,"--project_id","spralnica","--rules","/usr/src/app/firestore.rules","--single_project_mode",true,"--functions_emulator","127.0.0.1:4002"],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"/root/.cache/firebase/emulators/cloud-firestore-emulator-v1.15.1.jar\",\"--host\",\"0.0.0.0\",\"--port\",4003,\"--websocket_port\",9150,\"--project_id\",\"spralnica\",\"--rules\",\"/usr/src/app/firestore.rules\",\"--single_project_mode\",true,\"--functions_emulator\",\"127.0.0.1:4002\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to firestore-debug.log"}}
[debug] [2022-11-18T15:01:48.652Z] Nov 18, 2022 3:01:48 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://0.0.0.0:9150
 {"metadata":{"emulator":{"name":"firestore"},"message":"Nov 18, 2022 3:01:48 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start\nINFO: Started WebSocket server on ws://0.0.0.0:9150\n"}}
[debug] [2022-11-18T15:01:48.714Z] API endpoint: http:// {"metadata":{"emulator":{"name":"firestore"},"message":"API endpoint: http://"}}
[debug] [2022-11-18T15:01:48.715Z] 0.0.0.0:4003
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=0.0.0.0:4003

Dev App Server is now running.

 {"metadata":{"emulator":{"name":"firestore"},"message":"0.0.0.0:4003\nIf you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:\n\n   export FIRESTORE_EMULATOR_HOST=0.0.0.0:4003\n\nDev App Server is now running.\n\n"}}
[info] ✔  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2022-11-18T15:02:04.159Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-11-18T15:02:04.159Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2022-11-18T15:02:04.159Z] Starting Emulator UI with command {"binary":"node","args":["/root/.cache/firebase/emulators/ui-v1.11.1/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/root/.cache/firebase/emulators/ui-v1.11.1/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to ui-debug.log"}}
[debug] [2022-11-18T15:02:04.367Z] Web / API server started at 0.0.0.0:4001
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 0.0.0.0:4001\n"}}
[info] i  functions: Watching "/usr/src/app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/usr/src/app/functions\" for Cloud Functions..."}}
[debug] [2022-11-18T15:02:04.446Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2022-11-18T15:02:06.803Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "tsc"
  },
  "engines": {
    "node": "16"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^11.2.0",
    "firebase-functions": "^4.0.2",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^0.2.0",
    "typescript": "^4.5.4"
  },
  "private": true
}
[debug] [2022-11-18T15:02:06.804Z] Building nodejs source
[debug] [2022-11-18T15:02:06.804Z] Analyzing nodejs backend spec
[debug] [2022-11-18T15:02:06.810Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-11-18T15:02:07.123Z] Serving at port 9005

[debug] [2022-11-18T15:02:07.445Z] Got response from /__/functions.yaml {"endpoints":{"allUsers":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"allUsers"},"registerUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"registerUser"},"deleteUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"deleteUser"},"setRole":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setRole"},"setConfirmed":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setConfirmed"},"setBan":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setBan"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-11-18T15:02:07.464Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: allUsers, registerUser, deleteUser, setRole, setConfirmed, setBan. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: allUsers, registerUser, deleteUser, setRole, setConfirmed, setBan."}}
[info] ✔  functions[us-central1-allUsers]: http function initialized (http://127.0.0.1:4002/spralnica/us-central1/allUsers). {"metadata":{"emulator":{"name":"functions"},"message":"http function initialized (http://127.0.0.1:4002/spralnica/us-central1/allUsers)."}}
[info] ✔  functions[us-central1-registerUser]: http function initialized (http://127.0.0.1:4002/spralnica/us-central1/registerUser). {"metadata":{"emulator":{"name":"functions"},"message":"http function initialized (http://127.0.0.1:4002/spralnica/us-central1/registerUser)."}}
[info] ✔  functions[us-central1-deleteUser]: http function initialized (http://127.0.0.1:4002/spralnica/us-central1/deleteUser). {"metadata":{"emulator":{"name":"functions"},"message":"http function initialized (http://127.0.0.1:4002/spralnica/us-central1/deleteUser)."}}
[info] ✔  functions[us-central1-setRole]: http function initialized (http://127.0.0.1:4002/spralnica/us-central1/setRole). {"metadata":{"emulator":{"name":"functions"},"message":"http function initialized (http://127.0.0.1:4002/spralnica/us-central1/setRole)."}}
[info] ✔  functions[us-central1-setConfirmed]: http function initialized (http://127.0.0.1:4002/spralnica/us-central1/setConfirmed). {"metadata":{"emulator":{"name":"functions"},"message":"http function initialized (http://127.0.0.1:4002/spralnica/us-central1/setConfirmed)."}}
[info] ✔  functions[us-central1-setBan]: http function initialized (http://127.0.0.1:4002/spralnica/us-central1/setBan). {"metadata":{"emulator":{"name":"functions"},"message":"http function initialized (http://127.0.0.1:4002/spralnica/us-central1/setBan)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4001/               │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬──────────────────────────────────┬─────────────────────────────────┐
│ Emulator       │ Host:Port                        │ View in Emulator UI             │
├────────────────┼──────────────────────────────────┼─────────────────────────────────┤
│ Authentication │ 0.0.0.0:4005                     │ http://127.0.0.1:4001/auth      │
├────────────────┼──────────────────────────────────┼─────────────────────────────────┤
│ Functions      │ 0.0.0.0:4002                     │ http://127.0.0.1:4001/functions │
├────────────────┼──────────────────────────────────┼─────────────────────────────────┤
│ Firestore      │ 0.0.0.0:4003                     │ http://127.0.0.1:4001/firestore │
├────────────────┼──────────────────────────────────┼─────────────────────────────────┤
│ Hosting        │ Failed to initialize (see above) │                                 │
└────────────────┴──────────────────────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500, 9150

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2022-11-18T15:02:19.918Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-11-18T15:02:19.918Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-11-18T15:02:19.919Z] Accepted request POST /spralnica/us-central1/registerUser --> us-central1-registerUser
[debug] [2022-11-18T15:02:19.920Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-11-18T15:02:19.921Z] [functions] Got req.url=/spralnica/us-central1/registerUser, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/spralnica/us-central1/registerUser, mapping to path=/"}}
[debug] [2022-11-18T15:02:19.939Z] [worker-pool] addWorker(us-central1-registerUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-registerUser)"}}
[debug] [2022-11-18T15:02:19.939Z] [worker-pool] Adding worker with key us-central1-registerUser, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-registerUser, total=1"}}
[debug] [2022-11-18T15:02:21.581Z] [runtime-status] [100] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"[runtime-status] [100] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T15:02:21.584Z] [runtime-status] [100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"[runtime-status] [100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T15:02:21.586Z] [runtime-status] [100] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"[runtime-status] [100] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-11-18T15:02:21.588Z] [runtime-status] [100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"[runtime-status] [100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T15:02:21.897Z] [runtime-status] [100] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"[runtime-status] [100] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-11-18T15:02:21.898Z] [runtime-status] [100] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"[runtime-status] [100] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2022-11-18T15:02:21.899Z] [runtime-status] [100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"[runtime-status] [100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T15:02:21.903Z] [runtime-status] [100] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"[runtime-status] [100] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T15:02:21.908Z] [runtime-status] [100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"[runtime-status] [100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T15:02:21.910Z] [runtime-status] [100] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"[runtime-status] [100] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-11-18T15:02:21.917Z] [runtime-status] [100] initializeApp(DEFAULT) {"credential":{"httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"[runtime-status] [100] initializeApp(DEFAULT) {\"credential\":{\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}}}"}}
[debug] [2022-11-18T15:02:21.930Z] [runtime-status] [100] Functions runtime initialized. {"cwd":"/usr/src/app/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"[runtime-status] [100] Functions runtime initialized. {\"cwd\":\"/usr/src/app/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2022-11-18T15:02:21.931Z] [runtime-status] [100] Listening to port: /tmp/fire_emu_c567a6d27bda3f15.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"[runtime-status] [100] Listening to port: /tmp/fire_emu_c567a6d27bda3f15.sock"}}
[debug] [2022-11-18T15:02:21.983Z] [worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: IDLE"}}
[debug] [2022-11-18T15:02:21.984Z] [worker-pool] submitRequest(triggerId=us-central1-registerUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-registerUser)"}}
[debug] [2022-11-18T15:02:21.985Z] [worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: BUSY"}}
[info] i  functions: Beginning execution of "registerUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"Beginning execution of \"registerUser\""}}
[debug] [2022-11-18T15:02:22.042Z] >>> [apiv2][query] POST http://127.0.0.1:4002/functions/projects/spralnica/trigger_multicast [none]
[debug] [2022-11-18T15:02:22.043Z] >>> [apiv2][body] POST http://127.0.0.1:4002/functions/projects/spralnica/trigger_multicast {"eventId":"e4c7156f-07fa-4e2c-a040-602b219aef47","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/spralnica","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2022-11-18T15:02:22.042Z","data":{"uid":"WFoAnk4p7GdknVq5fEbtKXCk634l","email":"zan@je.bog","emailVerified":false,"phoneNumber":"+38640124457","metadata":{"creationTime":"2022-11-18T15:02:22.039Z","lastSignInTime":"2022-11-18T15:02:22.039Z"},"customClaims":{},"providerData":[{"providerId":"password","email":"zan@je.bog","federatedId":"zan@je.bog","rawId":"zan@je.bog"},{"providerId":"phone","phoneNumber":"+38640124457","rawId":"+38640124457"}]}}
[debug] [2022-11-18T15:02:22.056Z] <<< [apiv2][status] POST http://127.0.0.1:4002/functions/projects/spralnica/trigger_multicast 200
[debug] [2022-11-18T15:02:22.057Z] <<< [apiv2][body] POST http://127.0.0.1:4002/functions/projects/spralnica/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2022-11-18T15:02:22.085Z] [worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: IDLE"}}
[debug] [2022-11-18T15:02:22.086Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "registerUser" in 72.244892ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"Finished \"registerUser\" in 72.244892ms"}}
[debug] [2022-11-18T15:02:43.199Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-11-18T15:02:43.199Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-11-18T15:02:43.199Z] Accepted request POST /spralnica/us-central1/registerUser --> us-central1-registerUser
[debug] [2022-11-18T15:02:43.200Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-11-18T15:02:43.200Z] [functions] Got req.url=/spralnica/us-central1/registerUser, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/spralnica/us-central1/registerUser, mapping to path=/"}}
[debug] [2022-11-18T15:02:43.200Z] [worker-pool] submitRequest(triggerId=us-central1-registerUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-registerUser)"}}
[debug] [2022-11-18T15:02:43.201Z] [worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: BUSY"}}
[info] i  functions: Beginning execution of "registerUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"Beginning execution of \"registerUser\""}}
[debug] [2022-11-18T15:02:43.211Z] >>> [apiv2][query] POST http://127.0.0.1:4002/functions/projects/spralnica/trigger_multicast [none]
[debug] [2022-11-18T15:02:43.212Z] >>> [apiv2][body] POST http://127.0.0.1:4002/functions/projects/spralnica/trigger_multicast {"eventId":"703f169c-5510-4cdc-af0c-8373958fa8bf","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/spralnica","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2022-11-18T15:02:43.211Z","data":{"uid":"VmPatx7U4WEFUWST67wfNCxhJK6c","email":"test@user.com","emailVerified":false,"phoneNumber":"+38640124454","metadata":{"creationTime":"2022-11-18T15:02:43.211Z","lastSignInTime":"2022-11-18T15:02:43.211Z"},"customClaims":{},"providerData":[{"providerId":"password","email":"test@user.com","federatedId":"test@user.com","rawId":"test@user.com"},{"providerId":"phone","phoneNumber":"+38640124454","rawId":"+38640124454"}]}}
[debug] [2022-11-18T15:02:43.218Z] <<< [apiv2][status] POST http://127.0.0.1:4002/functions/projects/spralnica/trigger_multicast 200
[debug] [2022-11-18T15:02:43.218Z] <<< [apiv2][body] POST http://127.0.0.1:4002/functions/projects/spralnica/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2022-11-18T15:02:43.239Z] [worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: IDLE"}}
[debug] [2022-11-18T15:02:43.240Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "registerUser" in 31.347119ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"Finished \"registerUser\" in 31.347119ms"}}
[debug] [2022-11-18T15:02:53.787Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-11-18T15:02:53.788Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-11-18T15:02:53.788Z] Accepted request POST /spralnica/us-central1/registerUser --> us-central1-registerUser
[debug] [2022-11-18T15:02:53.789Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-11-18T15:02:53.789Z] [functions] Got req.url=/spralnica/us-central1/registerUser, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/spralnica/us-central1/registerUser, mapping to path=/"}}
[debug] [2022-11-18T15:02:53.790Z] [worker-pool] submitRequest(triggerId=us-central1-registerUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-registerUser)"}}
[debug] [2022-11-18T15:02:53.790Z] [worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: BUSY"}}
[info] i  functions: Beginning execution of "registerUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"Beginning execution of \"registerUser\""}}
[debug] [2022-11-18T15:02:53.810Z] [worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: IDLE"}}
[debug] [2022-11-18T15:02:53.810Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "registerUser" in 15.529934ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"Finished \"registerUser\" in 15.529934ms"}}
[debug] [2022-11-18T15:03:03.870Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-11-18T15:03:03.871Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-11-18T15:03:03.871Z] Accepted request POST /spralnica/us-central1/registerUser --> us-central1-registerUser
[debug] [2022-11-18T15:03:03.872Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-11-18T15:03:03.872Z] [functions] Got req.url=/spralnica/us-central1/registerUser, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/spralnica/us-central1/registerUser, mapping to path=/"}}
[debug] [2022-11-18T15:03:03.872Z] [worker-pool] submitRequest(triggerId=us-central1-registerUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-registerUser)"}}
[debug] [2022-11-18T15:03:03.873Z] [worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: BUSY"}}
[info] i  functions: Beginning execution of "registerUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"Beginning execution of \"registerUser\""}}
[debug] [2022-11-18T15:03:03.880Z] >>> [apiv2][query] POST http://127.0.0.1:4002/functions/projects/spralnica/trigger_multicast [none]
[debug] [2022-11-18T15:03:03.881Z] >>> [apiv2][body] POST http://127.0.0.1:4002/functions/projects/spralnica/trigger_multicast {"eventId":"026b19f2-24f2-46af-af74-459a0997c204","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/spralnica","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2022-11-18T15:03:03.880Z","data":{"uid":"MipWawrUQTGaU4QgxcbevRXYvwmM","email":"test2@user.com","emailVerified":false,"phoneNumber":"+38640124434","metadata":{"creationTime":"2022-11-18T15:03:03.880Z","lastSignInTime":"2022-11-18T15:03:03.880Z"},"customClaims":{},"providerData":[{"providerId":"password","email":"test2@user.com","federatedId":"test2@user.com","rawId":"test2@user.com"},{"providerId":"phone","phoneNumber":"+38640124434","rawId":"+38640124434"}]}}
[debug] [2022-11-18T15:03:03.886Z] <<< [apiv2][status] POST http://127.0.0.1:4002/functions/projects/spralnica/trigger_multicast 200
[debug] [2022-11-18T15:03:03.886Z] <<< [apiv2][body] POST http://127.0.0.1:4002/functions/projects/spralnica/trigger_multicast {"status":"multicast_acknowledged"}
[debug] [2022-11-18T15:03:03.900Z] [worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: IDLE"}}
[debug] [2022-11-18T15:03:03.901Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "registerUser" in 23.72368ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-registerUser"},"extension":{},"message":"Finished \"registerUser\" in 23.72368ms"}}
[debug] [2022-11-18T15:03:05.992Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-11-18T15:03:05.992Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-11-18T15:03:05.992Z] Accepted request GET /spralnica/us-central1/allUsers --> us-central1-allUsers
[debug] [2022-11-18T15:03:05.993Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-11-18T15:03:05.993Z] [functions] Got req.url=/spralnica/us-central1/allUsers, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/spralnica/us-central1/allUsers, mapping to path=/"}}
[debug] [2022-11-18T15:03:06.011Z] [worker-pool] addWorker(us-central1-allUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-allUsers)"}}
[debug] [2022-11-18T15:03:06.012Z] [worker-pool] Adding worker with key us-central1-allUsers, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-allUsers, total=1"}}
[debug] [2022-11-18T15:03:07.692Z] [runtime-status] [107] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [107] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T15:03:07.695Z] [runtime-status] [107] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [107] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T15:03:07.696Z] [runtime-status] [107] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [107] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-11-18T15:03:07.698Z] [runtime-status] [107] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [107] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T15:03:07.963Z] [runtime-status] [107] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [107] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-11-18T15:03:07.963Z] [runtime-status] [107] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [107] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2022-11-18T15:03:07.965Z] [runtime-status] [107] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [107] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T15:03:07.967Z] [runtime-status] [107] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [107] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T15:03:07.970Z] [runtime-status] [107] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [107] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T15:03:07.971Z] [runtime-status] [107] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [107] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-11-18T15:03:07.976Z] [runtime-status] [107] initializeApp(DEFAULT) {"credential":{"httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [107] initializeApp(DEFAULT) {\"credential\":{\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}}}"}}
[debug] [2022-11-18T15:03:07.990Z] [runtime-status] [107] Functions runtime initialized. {"cwd":"/usr/src/app/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [107] Functions runtime initialized. {\"cwd\":\"/usr/src/app/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2022-11-18T15:03:07.990Z] [runtime-status] [107] Listening to port: /tmp/fire_emu_a51e2553a949f9f0.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [107] Listening to port: /tmp/fire_emu_a51e2553a949f9f0.sock"}}
[debug] [2022-11-18T15:03:08.053Z] [worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: IDLE"}}
[debug] [2022-11-18T15:03:08.053Z] [worker-pool] submitRequest(triggerId=us-central1-allUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-allUsers)"}}
[debug] [2022-11-18T15:03:08.053Z] [worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: BUSY"}}
[info] i  functions: Beginning execution of "allUsers" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"Beginning execution of \"allUsers\""}}
[debug] [2022-11-18T15:03:08.108Z] [worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: IDLE"}}
[debug] [2022-11-18T15:03:08.109Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "allUsers" in 36.665735ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"Finished \"allUsers\" in 36.665735ms"}}
[debug] [2022-11-18T15:03:24.436Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-11-18T15:03:24.437Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-11-18T15:03:24.438Z] Accepted request POST /spralnica/us-central1/setConfirmed --> us-central1-setConfirmed
[debug] [2022-11-18T15:03:24.438Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-11-18T15:03:24.439Z] [functions] Got req.url=/spralnica/us-central1/setConfirmed, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/spralnica/us-central1/setConfirmed, mapping to path=/"}}
[debug] [2022-11-18T15:03:24.452Z] [worker-pool] addWorker(us-central1-setConfirmed) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-setConfirmed)"}}
[debug] [2022-11-18T15:03:24.453Z] [worker-pool] Adding worker with key us-central1-setConfirmed, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-setConfirmed, total=1"}}
[debug] [2022-11-18T15:03:26.149Z] [runtime-status] [114] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"[runtime-status] [114] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T15:03:26.152Z] [runtime-status] [114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"[runtime-status] [114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T15:03:26.152Z] [runtime-status] [114] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"[runtime-status] [114] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-11-18T15:03:26.154Z] [runtime-status] [114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"[runtime-status] [114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T15:03:26.456Z] [runtime-status] [114] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"[runtime-status] [114] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-11-18T15:03:26.457Z] [runtime-status] [114] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"[runtime-status] [114] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2022-11-18T15:03:26.458Z] [runtime-status] [114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"[runtime-status] [114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T15:03:26.460Z] [runtime-status] [114] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"[runtime-status] [114] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T15:03:26.463Z] [runtime-status] [114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"[runtime-status] [114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T15:03:26.464Z] [runtime-status] [114] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"[runtime-status] [114] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-11-18T15:03:26.468Z] [runtime-status] [114] initializeApp(DEFAULT) {"credential":{"httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"[runtime-status] [114] initializeApp(DEFAULT) {\"credential\":{\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}}}"}}
[debug] [2022-11-18T15:03:26.480Z] [runtime-status] [114] Functions runtime initialized. {"cwd":"/usr/src/app/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"[runtime-status] [114] Functions runtime initialized. {\"cwd\":\"/usr/src/app/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2022-11-18T15:03:26.481Z] [runtime-status] [114] Listening to port: /tmp/fire_emu_cedd32d16d1d1422.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"[runtime-status] [114] Listening to port: /tmp/fire_emu_cedd32d16d1d1422.sock"}}
[debug] [2022-11-18T15:03:26.594Z] [worker-us-central1-setConfirmed-49b2bd74-1635-4b49-867e-58a6f55eae7e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-setConfirmed-49b2bd74-1635-4b49-867e-58a6f55eae7e]: IDLE"}}
[debug] [2022-11-18T15:03:26.595Z] [worker-pool] submitRequest(triggerId=us-central1-setConfirmed) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-setConfirmed)"}}
[debug] [2022-11-18T15:03:26.596Z] [worker-us-central1-setConfirmed-49b2bd74-1635-4b49-867e-58a6f55eae7e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-setConfirmed-49b2bd74-1635-4b49-867e-58a6f55eae7e]: BUSY"}}
[info] i  functions: Beginning execution of "setConfirmed" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"Beginning execution of \"setConfirmed\""}}
[debug] [2022-11-18T15:03:26.656Z] [worker-us-central1-setConfirmed-49b2bd74-1635-4b49-867e-58a6f55eae7e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-setConfirmed-49b2bd74-1635-4b49-867e-58a6f55eae7e]: IDLE"}}
[debug] [2022-11-18T15:03:26.656Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "setConfirmed" in 38.013533ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-setConfirmed"},"extension":{},"message":"Finished \"setConfirmed\" in 38.013533ms"}}
[debug] [2022-11-18T15:03:29.375Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-11-18T15:03:29.376Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-11-18T15:03:29.376Z] Accepted request GET /spralnica/us-central1/allUsers --> us-central1-allUsers
[debug] [2022-11-18T15:03:29.376Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-11-18T15:03:29.377Z] [functions] Got req.url=/spralnica/us-central1/allUsers, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/spralnica/us-central1/allUsers, mapping to path=/"}}
[debug] [2022-11-18T15:03:29.377Z] [worker-pool] submitRequest(triggerId=us-central1-allUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-allUsers)"}}
[debug] [2022-11-18T15:03:29.377Z] [worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: BUSY"}}
[info] i  functions: Beginning execution of "allUsers" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"Beginning execution of \"allUsers\""}}
[debug] [2022-11-18T15:03:29.398Z] [worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: IDLE"}}
[debug] [2022-11-18T15:03:29.399Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "allUsers" in 14.215338ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"Finished \"allUsers\" in 14.215338ms"}}
[debug] [2022-11-18T15:05:10.507Z] File /usr/src/app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /usr/src/app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2022-11-18T15:05:11.510Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2022-11-18T15:05:13.872Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "tsc"
  },
  "engines": {
    "node": "16"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^11.2.0",
    "firebase-functions": "^4.0.2",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^0.2.0",
    "typescript": "^4.5.4"
  },
  "private": true
}
[debug] [2022-11-18T15:05:13.873Z] Building nodejs source
[debug] [2022-11-18T15:05:13.873Z] Analyzing nodejs backend spec
[debug] [2022-11-18T15:05:13.875Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-11-18T15:05:14.188Z] Serving at port 9005

[debug] [2022-11-18T15:05:14.478Z] Got response from /__/functions.yaml {"endpoints":{"allUsers":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"allUsers"},"registerUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"registerUser"},"deleteUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"deleteUser"},"setRole":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setRole"},"setConfirmed":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setConfirmed"},"setBan":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setBan"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-11-18T15:05:14.490Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: allUsers, registerUser, deleteUser, setRole, setConfirmed, setBan. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: allUsers, registerUser, deleteUser, setRole, setConfirmed, setBan."}}
[debug] [2022-11-18T15:05:14.518Z] [worker-pool] Shutting down IDLE worker (us-central1-registerUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-registerUser)"}}
[debug] [2022-11-18T15:05:14.519Z] [worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: FINISHING"}}
[debug] [2022-11-18T15:05:14.519Z] [worker-pool] Shutting down IDLE worker (us-central1-allUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-allUsers)"}}
[debug] [2022-11-18T15:05:14.519Z] [worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: FINISHING"}}
[debug] [2022-11-18T15:05:14.520Z] [worker-pool] Shutting down IDLE worker (us-central1-setConfirmed) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-setConfirmed)"}}
[debug] [2022-11-18T15:05:14.520Z] [worker-us-central1-setConfirmed-49b2bd74-1635-4b49-867e-58a6f55eae7e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-setConfirmed-49b2bd74-1635-4b49-867e-58a6f55eae7e]: FINISHING"}}
[debug] [2022-11-18T15:05:14.533Z] [worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: exited"}}
[debug] [2022-11-18T15:05:14.533Z] [worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-registerUser-af3d1905-65be-4859-9185-900696dcb05a]: FINISHED"}}
[debug] [2022-11-18T15:05:14.534Z] [worker-us-central1-setConfirmed-49b2bd74-1635-4b49-867e-58a6f55eae7e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-setConfirmed-49b2bd74-1635-4b49-867e-58a6f55eae7e]: exited"}}
[debug] [2022-11-18T15:05:14.534Z] [worker-us-central1-setConfirmed-49b2bd74-1635-4b49-867e-58a6f55eae7e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-setConfirmed-49b2bd74-1635-4b49-867e-58a6f55eae7e]: FINISHED"}}
[debug] [2022-11-18T15:05:14.536Z] [worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: exited"}}
[debug] [2022-11-18T15:05:14.536Z] [worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-ed3ac8d2-6c03-4963-9b8a-a314b6a0b514]: FINISHED"}}
[debug] [2022-11-18T16:13:46.365Z] File /usr/src/app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /usr/src/app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2022-11-18T16:13:47.367Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2022-11-18T16:13:49.897Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "tsc"
  },
  "engines": {
    "node": "16"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^11.2.0",
    "firebase-functions": "^4.0.2",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^0.2.0",
    "typescript": "^4.5.4"
  },
  "private": true
}
[debug] [2022-11-18T16:13:49.898Z] Building nodejs source
[debug] [2022-11-18T16:13:49.898Z] Analyzing nodejs backend spec
[debug] [2022-11-18T16:13:49.900Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-11-18T16:13:50.182Z] Serving at port 9005

[debug] [2022-11-18T16:13:50.516Z] Got response from /__/functions.yaml {"endpoints":{"allUsers":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"allUsers"},"registerUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"registerUser"},"deleteUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"deleteUser"},"setRole":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setRole"},"setConfirmed":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setConfirmed"},"setBan":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setBan"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-11-18T16:13:50.524Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: allUsers, registerUser, deleteUser, setRole, setConfirmed, setBan. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: allUsers, registerUser, deleteUser, setRole, setConfirmed, setBan."}}
[debug] [2022-11-18T16:14:03.159Z] File /usr/src/app/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /usr/src/app/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2022-11-18T16:14:03.160Z] File /usr/src/app/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /usr/src/app/functions/lib/index.js changed, reloading triggers"}}
[debug] [2022-11-18T16:14:04.162Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2022-11-18T16:14:06.488Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "tsc"
  },
  "engines": {
    "node": "16"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^11.2.0",
    "firebase-functions": "^4.0.2",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^0.2.0",
    "typescript": "^4.5.4"
  },
  "private": true
}
[debug] [2022-11-18T16:14:06.488Z] Building nodejs source
[debug] [2022-11-18T16:14:06.488Z] Analyzing nodejs backend spec
[debug] [2022-11-18T16:14:06.490Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-11-18T16:14:06.776Z] Serving at port 9005

[debug] [2022-11-18T16:14:07.094Z] Got response from /__/functions.yaml {"endpoints":{"allUsers":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"allUsers"},"user":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"user"},"registerUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"registerUser"},"deleteUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"deleteUser"},"setRole":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setRole"},"setConfirmed":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setConfirmed"},"setBan":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setBan"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-11-18T16:14:07.104Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: allUsers, user, registerUser, deleteUser, setRole, setConfirmed, setBan. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: allUsers, user, registerUser, deleteUser, setRole, setConfirmed, setBan."}}
[info] ✔  functions[us-central1-user]: http function initialized (http://127.0.0.1:4002/spralnica/us-central1/user). {"metadata":{"emulator":{"name":"functions"},"message":"http function initialized (http://127.0.0.1:4002/spralnica/us-central1/user)."}}
[debug] [2022-11-18T16:14:10.518Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-11-18T16:14:10.518Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-11-18T16:14:10.518Z] Accepted request GET /spralnica/us-central1/allUsers --> us-central1-allUsers
[debug] [2022-11-18T16:14:10.519Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-11-18T16:14:10.519Z] [functions] Got req.url=/spralnica/us-central1/allUsers, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/spralnica/us-central1/allUsers, mapping to path=/"}}
[debug] [2022-11-18T16:14:10.520Z] [worker-pool] Cleaned up workers for us-central1-registerUser: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-registerUser: 1 --> 0"}}
[debug] [2022-11-18T16:14:10.520Z] [worker-pool] Cleaned up workers for us-central1-allUsers: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-allUsers: 1 --> 0"}}
[debug] [2022-11-18T16:14:10.520Z] [worker-pool] Cleaned up workers for us-central1-setConfirmed: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-setConfirmed: 1 --> 0"}}
[debug] [2022-11-18T16:14:10.533Z] [worker-pool] addWorker(us-central1-allUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-allUsers)"}}
[debug] [2022-11-18T16:14:10.534Z] [worker-pool] Adding worker with key us-central1-allUsers, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-allUsers, total=1"}}
[debug] [2022-11-18T16:14:12.170Z] [runtime-status] [208] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [208] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T16:14:12.174Z] [runtime-status] [208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:14:12.174Z] [runtime-status] [208] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [208] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-11-18T16:14:12.176Z] [runtime-status] [208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:14:12.456Z] [runtime-status] [208] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [208] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-11-18T16:14:12.460Z] [runtime-status] [208] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [208] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2022-11-18T16:14:12.460Z] [runtime-status] [208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:14:12.461Z] [runtime-status] [208] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [208] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T16:14:12.465Z] [runtime-status] [208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:14:12.465Z] [runtime-status] [208] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [208] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-11-18T16:14:12.471Z] [runtime-status] [208] initializeApp(DEFAULT) {"credential":{"httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [208] initializeApp(DEFAULT) {\"credential\":{\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}}}"}}
[debug] [2022-11-18T16:14:12.482Z] [runtime-status] [208] Functions runtime initialized. {"cwd":"/usr/src/app/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [208] Functions runtime initialized. {\"cwd\":\"/usr/src/app/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2022-11-18T16:14:12.482Z] [runtime-status] [208] Listening to port: /tmp/fire_emu_1ee1dcd6ca9a4fc1.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"[runtime-status] [208] Listening to port: /tmp/fire_emu_1ee1dcd6ca9a4fc1.sock"}}
[debug] [2022-11-18T16:14:12.574Z] [worker-us-central1-allUsers-36bf8ecc-f13b-4937-9562-ef0f551b60fd]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-36bf8ecc-f13b-4937-9562-ef0f551b60fd]: IDLE"}}
[debug] [2022-11-18T16:14:12.575Z] [worker-pool] submitRequest(triggerId=us-central1-allUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-allUsers)"}}
[debug] [2022-11-18T16:14:12.575Z] [worker-us-central1-allUsers-36bf8ecc-f13b-4937-9562-ef0f551b60fd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-36bf8ecc-f13b-4937-9562-ef0f551b60fd]: BUSY"}}
[info] i  functions: Beginning execution of "allUsers" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"Beginning execution of \"allUsers\""}}
[debug] [2022-11-18T16:14:12.630Z] [worker-us-central1-allUsers-36bf8ecc-f13b-4937-9562-ef0f551b60fd]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-36bf8ecc-f13b-4937-9562-ef0f551b60fd]: IDLE"}}
[debug] [2022-11-18T16:14:12.631Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "allUsers" in 32.752601ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-allUsers"},"extension":{},"message":"Finished \"allUsers\" in 32.752601ms"}}
[debug] [2022-11-18T16:15:03.025Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-11-18T16:15:03.025Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-11-18T16:15:03.025Z] Accepted request POST /spralnica/us-central1/user --> us-central1-user
[debug] [2022-11-18T16:15:03.026Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-11-18T16:15:03.026Z] [functions] Got req.url=/spralnica/us-central1/user, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/spralnica/us-central1/user, mapping to path=/"}}
[debug] [2022-11-18T16:15:03.041Z] [worker-pool] addWorker(us-central1-user) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-user)"}}
[debug] [2022-11-18T16:15:03.041Z] [worker-pool] Adding worker with key us-central1-user, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-user, total=1"}}
[debug] [2022-11-18T16:15:04.638Z] [runtime-status] [215] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [215] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T16:15:04.641Z] [runtime-status] [215] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [215] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:15:04.642Z] [runtime-status] [215] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [215] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-11-18T16:15:04.644Z] [runtime-status] [215] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [215] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:15:04.914Z] [runtime-status] [215] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [215] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-11-18T16:15:04.914Z] [runtime-status] [215] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [215] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2022-11-18T16:15:04.916Z] [runtime-status] [215] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [215] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:15:04.918Z] [runtime-status] [215] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [215] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T16:15:04.922Z] [runtime-status] [215] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [215] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:15:04.922Z] [runtime-status] [215] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [215] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-11-18T16:15:04.926Z] [runtime-status] [215] initializeApp(DEFAULT) {"credential":{"httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [215] initializeApp(DEFAULT) {\"credential\":{\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}}}"}}
[debug] [2022-11-18T16:15:04.938Z] [runtime-status] [215] Functions runtime initialized. {"cwd":"/usr/src/app/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [215] Functions runtime initialized. {\"cwd\":\"/usr/src/app/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2022-11-18T16:15:04.939Z] [runtime-status] [215] Listening to port: /tmp/fire_emu_6f126f2618b5c9ec.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [215] Listening to port: /tmp/fire_emu_6f126f2618b5c9ec.sock"}}
[debug] [2022-11-18T16:15:04.976Z] [worker-us-central1-user-855c89cf-adbb-4546-8adb-935ed2ed6f5c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-855c89cf-adbb-4546-8adb-935ed2ed6f5c]: IDLE"}}
[debug] [2022-11-18T16:15:04.977Z] [worker-pool] submitRequest(triggerId=us-central1-user) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-user)"}}
[debug] [2022-11-18T16:15:04.977Z] [worker-us-central1-user-855c89cf-adbb-4546-8adb-935ed2ed6f5c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-855c89cf-adbb-4546-8adb-935ed2ed6f5c]: BUSY"}}
[info] i  functions: Beginning execution of "user" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"Beginning execution of \"user\""}}
[debug] [2022-11-18T16:15:05.038Z] [worker-us-central1-user-855c89cf-adbb-4546-8adb-935ed2ed6f5c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-855c89cf-adbb-4546-8adb-935ed2ed6f5c]: IDLE"}}
[debug] [2022-11-18T16:15:05.038Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "user" in 36.878014ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"Finished \"user\" in 36.878014ms"}}
[debug] [2022-11-18T16:15:37.806Z] File /usr/src/app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /usr/src/app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2022-11-18T16:15:38.809Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2022-11-18T16:15:41.699Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "tsc"
  },
  "engines": {
    "node": "16"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^11.2.0",
    "firebase-functions": "^4.0.2",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^0.2.0",
    "typescript": "^4.5.4"
  },
  "private": true
}
[debug] [2022-11-18T16:15:41.699Z] Building nodejs source
[debug] [2022-11-18T16:15:41.700Z] Analyzing nodejs backend spec
[debug] [2022-11-18T16:15:41.701Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-11-18T16:15:41.952Z] Serving at port 9005

[debug] [2022-11-18T16:15:42.281Z] Got response from /__/functions.yaml {"endpoints":{"allUsers":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"allUsers"},"user":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"user"},"registerUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"registerUser"},"deleteUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"deleteUser"},"setRole":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setRole"},"setConfirmed":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setConfirmed"},"setBan":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setBan"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-11-18T16:15:42.291Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: allUsers, user, registerUser, deleteUser, setRole, setConfirmed, setBan. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: allUsers, user, registerUser, deleteUser, setRole, setConfirmed, setBan."}}
[debug] [2022-11-18T16:15:42.322Z] [worker-pool] Shutting down IDLE worker (us-central1-allUsers) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-allUsers)"}}
[debug] [2022-11-18T16:15:42.323Z] [worker-us-central1-allUsers-36bf8ecc-f13b-4937-9562-ef0f551b60fd]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-36bf8ecc-f13b-4937-9562-ef0f551b60fd]: FINISHING"}}
[debug] [2022-11-18T16:15:42.323Z] [worker-pool] Shutting down IDLE worker (us-central1-user) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-user)"}}
[debug] [2022-11-18T16:15:42.327Z] [worker-us-central1-user-855c89cf-adbb-4546-8adb-935ed2ed6f5c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-855c89cf-adbb-4546-8adb-935ed2ed6f5c]: FINISHING"}}
[debug] [2022-11-18T16:15:42.337Z] [worker-us-central1-allUsers-36bf8ecc-f13b-4937-9562-ef0f551b60fd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-36bf8ecc-f13b-4937-9562-ef0f551b60fd]: exited"}}
[debug] [2022-11-18T16:15:42.337Z] [worker-us-central1-allUsers-36bf8ecc-f13b-4937-9562-ef0f551b60fd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-allUsers-36bf8ecc-f13b-4937-9562-ef0f551b60fd]: FINISHED"}}
[debug] [2022-11-18T16:15:42.338Z] [worker-us-central1-user-855c89cf-adbb-4546-8adb-935ed2ed6f5c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-855c89cf-adbb-4546-8adb-935ed2ed6f5c]: exited"}}
[debug] [2022-11-18T16:15:42.338Z] [worker-us-central1-user-855c89cf-adbb-4546-8adb-935ed2ed6f5c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-855c89cf-adbb-4546-8adb-935ed2ed6f5c]: FINISHED"}}
[debug] [2022-11-18T16:15:44.453Z] File /usr/src/app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /usr/src/app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2022-11-18T16:15:45.456Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2022-11-18T16:15:48.234Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "tsc"
  },
  "engines": {
    "node": "16"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^11.2.0",
    "firebase-functions": "^4.0.2",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^0.2.0",
    "typescript": "^4.5.4"
  },
  "private": true
}
[debug] [2022-11-18T16:15:48.235Z] Building nodejs source
[debug] [2022-11-18T16:15:48.235Z] Analyzing nodejs backend spec
[debug] [2022-11-18T16:15:48.238Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-11-18T16:15:48.255Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-11-18T16:15:48.256Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-11-18T16:15:48.256Z] Accepted request POST /spralnica/us-central1/user --> us-central1-user
[debug] [2022-11-18T16:15:48.258Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-11-18T16:15:48.259Z] [functions] Got req.url=/spralnica/us-central1/user, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/spralnica/us-central1/user, mapping to path=/"}}
[debug] [2022-11-18T16:15:48.259Z] [worker-pool] Cleaned up workers for us-central1-allUsers: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-allUsers: 1 --> 0"}}
[debug] [2022-11-18T16:15:48.259Z] [worker-pool] Cleaned up workers for us-central1-user: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-user: 1 --> 0"}}
[debug] [2022-11-18T16:15:48.277Z] [worker-pool] addWorker(us-central1-user) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-user)"}}
[debug] [2022-11-18T16:15:48.281Z] [worker-pool] Adding worker with key us-central1-user, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-user, total=1"}}
[debug] [2022-11-18T16:15:48.574Z] Serving at port 9005

[debug] [2022-11-18T16:15:48.979Z] Got response from /__/functions.yaml {"endpoints":{"allUsers":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"allUsers"},"user":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"user"},"registerUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"registerUser"},"deleteUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"deleteUser"},"setRole":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setRole"},"setConfirmed":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setConfirmed"},"setBan":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setBan"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-11-18T16:15:48.992Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: allUsers, user, registerUser, deleteUser, setRole, setConfirmed, setBan. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: allUsers, user, registerUser, deleteUser, setRole, setConfirmed, setBan."}}
[debug] [2022-11-18T16:15:50.056Z] [runtime-status] [279] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [279] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T16:15:50.059Z] [runtime-status] [279] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [279] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:15:50.059Z] [runtime-status] [279] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [279] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-11-18T16:15:50.061Z] [runtime-status] [279] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [279] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:15:50.337Z] [runtime-status] [279] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [279] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-11-18T16:15:50.338Z] [runtime-status] [279] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [279] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2022-11-18T16:15:50.339Z] [runtime-status] [279] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [279] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:15:50.341Z] [runtime-status] [279] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [279] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T16:15:50.344Z] [runtime-status] [279] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [279] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:15:50.345Z] [runtime-status] [279] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [279] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-11-18T16:15:50.349Z] [runtime-status] [279] initializeApp(DEFAULT) {"credential":{"httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [279] initializeApp(DEFAULT) {\"credential\":{\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}}}"}}
[debug] [2022-11-18T16:15:50.360Z] [runtime-status] [279] Functions runtime initialized. {"cwd":"/usr/src/app/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [279] Functions runtime initialized. {\"cwd\":\"/usr/src/app/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2022-11-18T16:15:50.360Z] [runtime-status] [279] Listening to port: /tmp/fire_emu_a5522a86d46dfcd8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [279] Listening to port: /tmp/fire_emu_a5522a86d46dfcd8.sock"}}
[debug] [2022-11-18T16:15:50.418Z] [worker-us-central1-user-a65846ce-4d92-4d77-8d9d-11f84a622aff]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-a65846ce-4d92-4d77-8d9d-11f84a622aff]: IDLE"}}
[debug] [2022-11-18T16:15:50.418Z] [worker-pool] submitRequest(triggerId=us-central1-user) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-user)"}}
[debug] [2022-11-18T16:15:50.418Z] [worker-us-central1-user-a65846ce-4d92-4d77-8d9d-11f84a622aff]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-a65846ce-4d92-4d77-8d9d-11f84a622aff]: BUSY"}}
[info] i  functions: Beginning execution of "user" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"Beginning execution of \"user\""}}
[debug] [2022-11-18T16:15:50.470Z] [worker-us-central1-user-a65846ce-4d92-4d77-8d9d-11f84a622aff]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-a65846ce-4d92-4d77-8d9d-11f84a622aff]: IDLE"}}
[debug] [2022-11-18T16:15:50.471Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "user" in 29.670814ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"Finished \"user\" in 29.670814ms"}}
[debug] [2022-11-18T16:16:09.447Z] File /usr/src/app/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /usr/src/app/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2022-11-18T16:16:09.448Z] File /usr/src/app/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /usr/src/app/functions/lib/index.js changed, reloading triggers"}}
[debug] [2022-11-18T16:16:10.452Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2022-11-18T16:16:12.803Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "tsc"
  },
  "engines": {
    "node": "16"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^11.2.0",
    "firebase-functions": "^4.0.2",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^0.2.0",
    "typescript": "^4.5.4"
  },
  "private": true
}
[debug] [2022-11-18T16:16:12.804Z] Building nodejs source
[debug] [2022-11-18T16:16:12.804Z] Analyzing nodejs backend spec
[debug] [2022-11-18T16:16:12.808Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-11-18T16:16:13.088Z] Serving at port 9005

[debug] [2022-11-18T16:16:13.406Z] Got response from /__/functions.yaml {"endpoints":{"allUsers":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"allUsers"},"user":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"user"},"registerUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"registerUser"},"deleteUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"deleteUser"},"setRole":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setRole"},"setConfirmed":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setConfirmed"},"setBan":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setBan"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-11-18T16:16:13.415Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: allUsers, user, registerUser, deleteUser, setRole, setConfirmed, setBan. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: allUsers, user, registerUser, deleteUser, setRole, setConfirmed, setBan."}}
[debug] [2022-11-18T16:16:13.443Z] [worker-pool] Shutting down IDLE worker (us-central1-user) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-user)"}}
[debug] [2022-11-18T16:16:13.448Z] [worker-us-central1-user-a65846ce-4d92-4d77-8d9d-11f84a622aff]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-a65846ce-4d92-4d77-8d9d-11f84a622aff]: FINISHING"}}
[debug] [2022-11-18T16:16:13.463Z] [worker-us-central1-user-a65846ce-4d92-4d77-8d9d-11f84a622aff]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-a65846ce-4d92-4d77-8d9d-11f84a622aff]: exited"}}
[debug] [2022-11-18T16:16:13.463Z] [worker-us-central1-user-a65846ce-4d92-4d77-8d9d-11f84a622aff]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-a65846ce-4d92-4d77-8d9d-11f84a622aff]: FINISHED"}}
[debug] [2022-11-18T16:16:17.353Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-11-18T16:16:17.353Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-11-18T16:16:17.354Z] Accepted request POST /spralnica/us-central1/user --> us-central1-user
[debug] [2022-11-18T16:16:17.354Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-11-18T16:16:17.355Z] [functions] Got req.url=/spralnica/us-central1/user, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/spralnica/us-central1/user, mapping to path=/"}}
[debug] [2022-11-18T16:16:17.355Z] [worker-pool] Cleaned up workers for us-central1-user: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-user: 1 --> 0"}}
[debug] [2022-11-18T16:16:17.369Z] [worker-pool] addWorker(us-central1-user) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-user)"}}
[debug] [2022-11-18T16:16:17.370Z] [worker-pool] Adding worker with key us-central1-user, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-user, total=1"}}
[debug] [2022-11-18T16:16:18.924Z] [runtime-status] [316] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [316] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T16:16:18.924Z] [runtime-status] [316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:16:18.925Z] [runtime-status] [316] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [316] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-11-18T16:16:18.926Z] [runtime-status] [316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:16:19.244Z] [runtime-status] [316] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [316] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-11-18T16:16:19.244Z] [runtime-status] [316] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [316] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2022-11-18T16:16:19.245Z] [runtime-status] [316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:16:19.247Z] [runtime-status] [316] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [316] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-11-18T16:16:19.251Z] [runtime-status] [316] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.0.2","resolution":"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [316] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.0.2\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-11-18T16:16:19.251Z] [runtime-status] [316] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.2.0","resolution":"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [316] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.2.0\",\"resolution\":\"/usr/src/app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-11-18T16:16:19.256Z] [runtime-status] [316] initializeApp(DEFAULT) {"credential":{"httpClient":{"retry":{"maxRetries":4,"statusCodes":[503],"ioErrorCodes":["ECONNRESET","ETIMEDOUT"],"backOffFactor":0.5,"maxDelayInMillis":60000}}}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [316] initializeApp(DEFAULT) {\"credential\":{\"httpClient\":{\"retry\":{\"maxRetries\":4,\"statusCodes\":[503],\"ioErrorCodes\":[\"ECONNRESET\",\"ETIMEDOUT\"],\"backOffFactor\":0.5,\"maxDelayInMillis\":60000}}}}"}}
[debug] [2022-11-18T16:16:19.269Z] [runtime-status] [316] Functions runtime initialized. {"cwd":"/usr/src/app/functions","node_version":"16.13.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [316] Functions runtime initialized. {\"cwd\":\"/usr/src/app/functions\",\"node_version\":\"16.13.0\"}"}}
[debug] [2022-11-18T16:16:19.270Z] [runtime-status] [316] Listening to port: /tmp/fire_emu_d3eba5f7907b150f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"[runtime-status] [316] Listening to port: /tmp/fire_emu_d3eba5f7907b150f.sock"}}
[debug] [2022-11-18T16:16:19.307Z] [worker-us-central1-user-fd541c5d-398e-4d9e-b0a8-0b5998d58aea]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-fd541c5d-398e-4d9e-b0a8-0b5998d58aea]: IDLE"}}
[debug] [2022-11-18T16:16:19.307Z] [worker-pool] submitRequest(triggerId=us-central1-user) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-user)"}}
[debug] [2022-11-18T16:16:19.308Z] [worker-us-central1-user-fd541c5d-398e-4d9e-b0a8-0b5998d58aea]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-fd541c5d-398e-4d9e-b0a8-0b5998d58aea]: BUSY"}}
[info] i  functions: Beginning execution of "user" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"Beginning execution of \"user\""}}
[debug] [2022-11-18T16:16:19.368Z] [worker-us-central1-user-fd541c5d-398e-4d9e-b0a8-0b5998d58aea]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-fd541c5d-398e-4d9e-b0a8-0b5998d58aea]: IDLE"}}
[debug] [2022-11-18T16:16:19.369Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "user" in 32.45301ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-user"},"extension":{},"message":"Finished \"user\" in 32.45301ms"}}
[debug] [2022-11-18T16:17:39.478Z] File /usr/src/app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /usr/src/app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2022-11-18T16:17:40.482Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2022-11-18T16:17:43.227Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "tsc"
  },
  "engines": {
    "node": "16"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^11.2.0",
    "firebase-functions": "^4.0.2",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^0.2.0",
    "typescript": "^4.5.4"
  },
  "private": true
}
[debug] [2022-11-18T16:17:43.227Z] Building nodejs source
[debug] [2022-11-18T16:17:43.227Z] Analyzing nodejs backend spec
[debug] [2022-11-18T16:17:43.229Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-11-18T16:17:43.516Z] Serving at port 9005

[debug] [2022-11-18T16:17:44.017Z] Got response from /__/functions.yaml {"endpoints":{"allUsers":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"allUsers"},"user":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"user"},"registerUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"registerUser"},"deleteUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"deleteUser"},"setRole":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setRole"},"setConfirmed":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setConfirmed"},"setBan":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setBan"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-11-18T16:17:44.044Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: allUsers, user, registerUser, deleteUser, setRole, setConfirmed, setBan. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: allUsers, user, registerUser, deleteUser, setRole, setConfirmed, setBan."}}
[debug] [2022-11-18T16:17:44.070Z] [worker-pool] Shutting down IDLE worker (us-central1-user) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-user)"}}
[debug] [2022-11-18T16:17:44.070Z] [worker-us-central1-user-fd541c5d-398e-4d9e-b0a8-0b5998d58aea]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-fd541c5d-398e-4d9e-b0a8-0b5998d58aea]: FINISHING"}}
[debug] [2022-11-18T16:17:44.091Z] [worker-us-central1-user-fd541c5d-398e-4d9e-b0a8-0b5998d58aea]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-fd541c5d-398e-4d9e-b0a8-0b5998d58aea]: exited"}}
[debug] [2022-11-18T16:17:44.091Z] [worker-us-central1-user-fd541c5d-398e-4d9e-b0a8-0b5998d58aea]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-user-fd541c5d-398e-4d9e-b0a8-0b5998d58aea]: FINISHED"}}
[debug] [2022-11-18T16:18:00.805Z] File /usr/src/app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /usr/src/app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2022-11-18T16:18:01.807Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2022-11-18T16:18:04.306Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "build": "tsc"
  },
  "engines": {
    "node": "16"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^11.2.0",
    "firebase-functions": "^4.0.2",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^0.2.0",
    "typescript": "^4.5.4"
  },
  "private": true
}
[debug] [2022-11-18T16:18:04.307Z] Building nodejs source
[debug] [2022-11-18T16:18:04.307Z] Analyzing nodejs backend spec
[debug] [2022-11-18T16:18:04.308Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-11-18T16:18:04.574Z] Serving at port 9005

[debug] [2022-11-18T16:18:04.929Z] Got response from /__/functions.yaml {"endpoints":{"allUsers":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"allUsers"},"user":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"user"},"registerUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"registerUser"},"deleteUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"deleteUser"},"setRole":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setRole"},"setConfirmed":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setConfirmed"},"setBan":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"setBan"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-11-18T16:18:04.939Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: allUsers, user, registerUser, deleteUser, setRole, setConfirmed, setBan. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: allUsers, user, registerUser, deleteUser, setRole, setConfirmed, setBan."}}
